








* B = NUM CARAC
* X = OFFSET


AFFFONT
	PSHS D,U,X
	LDU #BIGFONT
	LDA 2,U
	STA $E7E5
	LDU ,U
	LDA #32
	MUL
	LEAU D,U
	LDA #16

AFFFONT1
	PSHS A
	LDD ,U++
	STA ,X
	STB $2000,X
	LEAX 40,X
	PULS A
	DECA
	BNE AFFFONT1

	PULS D,U,X

	RTS



* B = NUM


AFFNUM

	CMPD #99
	BGT AFFNUM4

	STB DVDAD
	LDA #8
	STA COUNAD
	CLRA
	CLR QUOTAD

AFFNUM1
	ASL QUOTAD
	ASLB
	ROLA
	CMPA #10
	BLO AFFNUM2
	SUBA #10
	INC QUOTAD
AFFNUM2
	DEC COUNAD
	BNE AFFNUM1
	STA REMAD


	LDB QUOTAD
	BEQ AFFNUM3
	ADDB #59
	JSR AFFFONT
	LEAX 1,X

AFFNUM3

	LDB REMAD
	ADDB #59
	JSR AFFFONT

	RTS

* IF NUM GREATER THAN 99
* DISPLAY 100

AFFNUM4

	LDB #60
	JSR AFFFONT
	LEAX 1,X
	LDB #59
	JSR AFFFONT
	LEAX 1,X
	LDB #59
	JSR AFFFONT

	RTS



* CALC OUT PERCENT

CALCPERCENT

	LDA NBOUT
	LDB #100
	MUL

CALCPER
	STD DVDADPER
	LDA #16
	STA COUNAD
	CLRA
	CLRB
CALCPER1
	ASL DVDADPER+1
	ROL DVDADPER
	ROLB
	ROLA
CALCPER2
	CMPD #00
	BLO CALCPER4
CALCPER3
	SUBD #00
	INC DVDADPER+1
CALCPER4
	DEC COUNAD
	BNE CALCPER1

	LDB DVDADPER+1

	JMP AFFNUM

DVDADPER FDB 0
DVDAD FCB 0
COUNAD FCB 0
QUOTAD FCB 0
REMAD FCB 0
