






FILESIZE FDB 0
FILEMEM	FDB 0

* LIT FICHIER
* X POINTE SUR NOM DE FICHIER
* Y POINTE SUR ZONE MEMOIRE

READFILE

	CLRA
	STA $6049
	LDA #$10
	STA $624B

	LDB #11

	LDY #$624F
READF1
	LDA ,X+
	STA ,Y+
	DECB
	BNE READF1

* OUVRE FICHIER

	LDB #03
	JSR $EC0C


	LDB #05
	JSR $EC0C
* TAILLE
	LDB #05
	JSR $EC0C
	LDA $6196
	STA FILESIZE
	LDB #05
	JSR $EC0C
	LDA $6196
	STA FILESIZE+1
* EMPLACEMENT MEM
	LDB #05
	JSR $EC0C
	LDA $6196
	STA FILEMEM
	LDB #05
	JSR $EC0C
	LDA $6196
	STA FILEMEM+1

	LDX FILESIZE
	LDY FILEMEM

READF2
	PSHS X,Y
	LDB #05
	JSR $EC0C
	LDA $6196
	PULS X,Y
	STA ,Y+
	LEAX -1,X
	BNE READF2

* FERME FICHIER

READF3

	LDB #06
	JSR $EC0C


	RTS
